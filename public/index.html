@@include('inc/top.html', {"id": "home-page", "title": "David, a dependency management tool for Node.js projects"})

  <div>

    <h1>
      You depend on other projects.<br>
      You want to stay up to date.<br>
      David's got your back.
    </h1>

    <p>
      David gets you an overview of your project dependencies, the version you use
      and the latest available, so you can quickly see what's drifting.
      Then it's all boiled down into a badge showing the current status,
      which you can embed on your site.
    </p>

    {{#if recentlyRetrievedManifests.length}}
    <ul id="examples">
      {{#with recentlyRetrievedManifests.[0]}}
      <li>{{user}} - <a href="/{{user}}/{{repo}}">{{repo}}<img src="/{{user}}/{{repo}}.svg" alt="{{repo}} Dependency badge"></a></li>
      {{/with}}
    </ul>
    {{/if}}

    <h2>Giving you badges.</h2>

    <p>
      Got a <a href="http://nodejs.org/">Node.js</a> project? Get a badge.
    </p>

    <p>
      Declare your dependencies in a <a href="http://package.json.nodejitsu.com/">package.json</a>
      file and you're good. David will go work the rest out and you'll get your own project status page,
      listing your dependencies and their freshness. Click on the examples above for a preview.
    </p>

    <p>Type your project / repo name in below and get yours...</p>

    <p class="badge-maker">
      <strong>@@hostname/<span contenteditable class="nope" id="username" title="[Stash project] / [repo name]">project/repo</span>.svg</strong>
      <img id="badge" src="/img/status/outofdate.svg" alt="badge">
    </p>

    <h2>Most used dependencies</h2>

    <p>These are the most used NPM dependencies based on Stash projects that are using them.</p>

    <div id="dependency-counts-graph"></div>

  </div>

  <aside id="stats">

    <div id="recently-watched" class="box">
      <h2>Recently started watching</h2>
      {{#if recentlyRetrievedManifests.length}}
      <ul class="border-list">
        {{#each recentlyRetrievedManifests}}
        <li>{{user}} - <a href="/{{user}}/{{repo}}">{{repo}}</a></li>
        {{/each}}
      </ul>
      {{else}}
      <p>No recent projects</p>
      {{/if}}
    </div>

    {{#if recentlyUpdatedPackages.length}}
    <div id="recently-updated-npm" class="box">
      <h2>Recently updated NPM packages</h2>
      <ul class="border-list">
        {{#each recentlyUpdatedPackages}}
        <li class="pinned"><a href="@@npmsite/package/{{name}}">{{name}}</a> <span>{{previous}} <i class="fa fa-angle-double-right"></i> {{version}}</span></li>
        {{/each}}
      </ul>
    </div>
    {{/if}}

  </aside>

@@include('inc/bottom.html')
